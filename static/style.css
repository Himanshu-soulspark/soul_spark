/* --- AI APP ORIGINAL STYLES --- */

/* --- Global Styles & Fonts (AI App) --- */
/* NOTE: These might conflict with Main App's :root and body styles. Main App styles loaded later will take precedence for conflicting properties. */
:root {
    --primary-color: #18D2A3; /* Bright Teal */
    --background-color: #121212; /* Dark Background */
    --card-bg-color: #1E1E1E; /* Slightly Lighter Dark */
    --text-color: #E0E0E0; /* Off-white text */
    --light-gray: #333333;
    --brand-font: 'Exo 2', sans-serif; /* AI specific brand font */
    --body-font: 'Poppins', sans-serif; /* Shares with Main App */

    /* PURANE COLORS (AI App) */
    --color-red: #ff6b6b;
    --color-green: #2ecc71;
    --color-sky-blue: #54a0ff;
    --color-pink: #f78fb3;
    --color-yellow: #f1c40f;
    --color-orange: #e67e22;
    --color-purple: #9b59b6;

    /* NAYE COLORS FOR HIGHLIGHTING (AI App) */
    --color-saffron: #F49A26; /* Saffron for Chem */
    --color-light-yellow: #fdeea7; /* Light yellow for Math */
}

/* Body styles (AI App) - May be overridden by Main App body style */
body {
    font-family: var(--body-font);
    margin: 0;
    background-color: var(--background-color);
    color: var(--text-color);
    -webkit-tap-highlight-color: transparent; /* Mobile tap color fix */
}

/* --- WELCOME SCREEN STYLES (AI App) --- */
/* Assuming Main App handles primary splash screen, but keeping styles just in case */
#welcome-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: var(--background-color); display: flex; justify-content: center; align-items: center; z-index: 100; transition: opacity 0.5s ease-out; }
.welcome-content { text-align: center; padding: 20px; }
.logo { font-size: 80px; line-height: 1; margin-bottom: 20px; }
.brand-title { font-family: var(--brand-font); font-size: 48px; color: #ffffff; margin: 0; letter-spacing: 2px; }
.tagline { font-size: 16px; color: var(--text-color); margin-top: 10px; margin-bottom: 40px; }
.progress-bar-container { width: 200px; height: 4px; background-color: #333; border-radius: 2px; margin: 0 auto; overflow: hidden; }
.progress-bar { width: 0%; height: 100%; background-color: var(--primary-color); border-radius: 2px; animation: load 3.5s linear forwards; }
@keyframes load { from { width: 0%; } to { width: 100%; } }

/* --- App Container (AI App) - HTML structure changed, this might need refinement later --- */
.app-container { max-width: 1000px; margin: 0 auto; padding: 20px; opacity: 0; transition: opacity 0.5s ease-in; /* This opacity/transition might conflict with Main App .page */ }

/* --- Screen Styles (AI App) - Might conflict with Main App .page styles --- */
/* Keeping these, but display/animation likely controlled by Main App's .page */
.screen { display: none; animation: fadeIn 0.5s ease-in-out; }
.screen.active { display: block; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

/* --- Header Styles (AI App) - May conflict with Main App .app-header --- */
.header { display: flex; align-items: center; margin-bottom: 20px; }
.header h1 { margin: 0; font-size: 24px; font-family: var(--brand-font); color: #ffffff; }
.back-button { background: none; border: none; font-size: 28px; margin-right: 15px; cursor: pointer; color: var(--primary-color); }

/* --- Card Styles (AI App Feature Grid) - Generic .card might conflict --- */
.feature-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; }
@media (min-width: 768px) { .feature-grid { grid-template-columns: repeat(3, 1fr); gap: 20px; } }
@media (min-width: 1000px) { .feature-grid { grid-template-columns: repeat(4, 1fr); } }
/* NOTE: .card style here is generic. May conflict with Main App's .card usage. */
.card { background-color: var(--card-bg-color); border-radius: 12px; padding: 20px; text-align: center; border: 1px solid var(--light-gray); cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; display: flex; flex-direction: column; justify-content: center; align-items: center; }
.card:hover { transform: translateY(-5px); box-shadow: 0 0 15px rgba(24, 210, 163, 0.3); }
.card-icon { font-size: 36px; margin-bottom: 10px; line-height: 1; }
.card h3 { margin: 0; font-size: 14px; font-weight: 500; }

/* --- Form & Common Styles (AI App) - May conflict with Main App form styles --- */
/* Using specific class names like .input-box should help avoid major conflicts */
.input-box, .textarea-box { width: 100%; padding: 15px; border: 1px solid var(--light-gray); border-radius: 8px; font-size: 16px; margin-bottom: 20px; box-sizing: border-box; background-color: var(--card-bg-color); color: var(--text-color); }
/* NOTE: .submit-button is a generic class. May conflict with Main App's .btn. */
.submit-button { width: 100%; padding: 15px; border: none; border-radius: 8px; background-color: var(--primary-color); color: #121212; font-size: 18px; font-weight: 700; font-family: var(--brand-font); cursor: pointer; transition: background-color 0.2s; }
.submit-button:hover { background-color: #15b88e; }
.submit-button:disabled { background-color: #555; cursor: not-allowed; color: #999; }
.submit-button.secondary { background-color: transparent; border: 2px solid var(--primary-color); color: var(--primary-color); }
.submit-button.secondary:hover { background-color: var(--primary-color); color: #121212; }
.upload-btn { text-align: center; display: block; margin-bottom: 10px; }
#file-name-display { display: block; text-align: center; margin-bottom: 20px; font-size: 14px; font-style: italic; }
.response-container { display: none; margin-top: 20px; }
.response-container h3 { margin-bottom: 15px; color: var(--primary-color); }

/* --- Option Selector Styles (AI App) --- */
.option-selector-group { display: flex; flex-wrap: wrap; align-items: center; gap: 15px; background-color: var(--card-bg-color); padding: 10px; border-radius: 8px; margin-bottom: 20px; }
.option-selector-group label { display: flex; align-items: center; cursor: pointer; gap: 5px; }
.option-selector-group input[type="radio"] { accent-color: var(--primary-color); }
.custom-count-input { width: 60px; padding: 8px; border: 1px solid var(--light-gray); border-radius: 5px; background-color: #333; color: var(--text-color); }
.custom-count-input:disabled { background-color: #2a2a2a; color: #777; border-color: #444; }

/* --- MCQ QUIZ STYLES (AI App) --- */
#mcq-setup-view p { text-align: center; font-size: 16px; margin-bottom: 10px; }
#quiz-topic-title { text-align: center; margin-bottom: 20px; color: var(--primary-color); }
.mcq-question-block { background-color: var(--card-bg-color); padding: 20px; border-radius: 12px; margin-bottom: 20px; border: 1px solid var(--light-gray); }
.question-text { margin-top: 0; font-weight: 500; font-size: 1.1em; }
.options-container { display: flex; flex-direction: column; gap: 12px; margin-top: 15px; }
.mcq-option { display: block; background-color: #2a2a2a; padding: 12px; border-radius: 8px; cursor: pointer; transition: background-color 0.2s, border-left 0.2s; border-left: 3px solid transparent; }
.mcq-option:hover { background-color: #333; border-left: 3px solid var(--primary-color); }
.mcq-option input[type="radio"] { margin-right: 12px; accent-color: var(--primary-color); }
#quiz-result { text-align: center; font-size: 1.5em; font-weight: bold; margin-top: 20px; }

/* --- FLASHCARD STYLES (AI App) --- */
/* NOTE: Renamed #flashcard-screen to #ai-flashcard-page to avoid conflict */
#ai-flashcard-page .flashcard-grid { display: grid; grid-template-columns: 1fr; gap: 20px; perspective: 1000px; }
@media (min-width: 600px) { #ai-flashcard-page .flashcard-grid { grid-template-columns: repeat(2, 1fr); } }
@media (min-width: 900px) { #ai-flashcard-page .flashcard-grid { grid-template-columns: repeat(3, 1fr); } }
#ai-flashcard-page .flashcard { background-color: transparent; width: 100%; height: 200px; border-radius: 12px; cursor: pointer; }
#ai-flashcard-page .flashcard-inner { position: relative; width: 100%; height: 100%; text-align: center; transition: transform 0.6s; transform-style: preserve-3d; }
#ai-flashcard-page .flashcard.flipped .flashcard-inner { transform: rotateY(180deg); }
#ai-flashcard-page .card-front, #ai-flashcard-page .card-back { position: absolute; width: 100%; height: 100%; -webkit-backface-visibility: hidden; backface-visibility: hidden; border-radius: 12px; display: flex; justify-content: center; align-items: center; padding: 20px; box-sizing: border-box; border: 1px solid var(--light-gray); }
#ai-flashcard-page .card-front { background-color: var(--card-bg-color); }
#ai-flashcard-page .card-back { background-color: var(--primary-color); color: #121212; transform: rotateY(180deg); font-weight: 500; }

/* --- Pagination Styles (AI App) --- */
.paginated-content-area .content-page { display: none; animation: fadeIn 0.3s; }
.paginated-content-area .content-page.active { display: block; }
.pagination-controls { display: flex; justify-content: space-between; align-items: center; margin-top: 20px; }
.pagination-btn { padding: 10px 20px; font-family: var(--brand-font); background-color: var(--primary-color); color: #121212; border: none; border-radius: 8px; cursor: pointer; }
.pagination-btn:disabled { background-color: #555; color: #999; cursor: not-allowed; }
.page-indicator { font-weight: 500; }

/* --- AI Generated Content Styling (AI App) --- */
.ai-generated-content { line-height: 1.7; font-size: 16px; }
/* NOTE: H1, H2, H3, H4 styles may conflict with Main App general styles */
.ai-generated-content h1,
.ai-generated-content h2 { color: var(--color-red); border-bottom: 1px solid var(--light-gray); padding-bottom: 8px; margin-top: 25px; margin-bottom: 15px; font-family: var(--brand-font); }
.ai-generated-content h3 { color: var(--color-green); margin-top: 20px; }
.ai-generated-content h4 { color: var(--color-yellow); font-family: var(--brand-font); }
.ai-generated-content strong { font-weight: 600; /* Remove color from here, JS will handle it */ }
/* Code and Pre styles should be relatively safe */
.ai-generated-content code { background-color: #2e2e2e; color: var(--color-sky-blue); padding: 3px 6px; border-radius: 5px; font-family: 'Courier New', Courier, monospace; font-size: 0.95em; }
.ai-generated-content pre { background-color: #0d1117; border-radius: 8px; padding: 15px; border: 1px solid var(--light-gray); overflow-x: auto; }
.ai-generated-content pre code { background-color: transparent; color: var(--text-color); padding: 0; border-radius: 0; }
.ai-generated-content ul, .ai-generated-content ol { padding-left: 25px; }
.ai-generated-content li { margin-bottom: 10px; }
.ai-generated-content blockquote { color: var(--color-orange); border-left: 3px solid var(--color-orange); background-color: #2a2a2a; padding: 10px 15px; margin: 15px 0; border-radius: 5px; font-style: italic; }
.ai-generated-content hr { border: 0; height: 1px; margin: 30px 0; background-image: linear-gradient(to right, rgba(0, 0, 0, 0), var(--color-purple), rgba(0, 0, 0, 0)); }

/* --- NEW: Highlighting Classes (AI App) --- */
.ai-generated-content .highlight-yellow { color: var(--color-yellow); }
.ai-generated-content .highlight-skyblue { color: var(--color-sky-blue); }
.ai-generated-content .highlight-pink { color: var(--color-pink); }

.ai-generated-content .chem-reaction {
    color: var(--color-saffron);
    background-color: rgba(244, 154, 38, 0.1);
    padding: 3px 8px;
    border-radius: 5px;
    font-family: 'Courier New', Courier, monospace;
    text-shadow: 0 0 5px rgba(244, 154, 38, 0.4);
}

.ai-generated-content .math-formula {
    color: var(--color-light-yellow);
    font-size: 1.1em;
    font-family: 'Georgia', serif;
}

/* --- NEW: Quiz Analysis Report Styles (AI App) --- */
#quiz-analysis-report {
    background-color: var(--card-bg-color);
    border-top: 2px solid var(--primary-color);
    padding: 20px;
    border-radius: 0 0 12px 12px;
}

/* --- AI Loading Animation (AI App) --- */
.loading-animation {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 40px 20px;
    background-color: var(--card-bg-color);
    border-radius: 8px;
    border: 1px solid var(--light-gray);
    color: var(--primary-color);
    font-size: 1.1em;
    text-align: center;
    min-height: 100px; /* यह सुनिश्चित करता है कि लोडर बहुत छोटा न दिखे */
}

/* यह घूमने वाला स्पिनर (spinner) बनाता है */
.loading-animation::before {
    content: '';
    display: inline-block;
    width: 24px;       /* स्पिनर का आकार */
    height: 24px;
    margin-right: 15px; /* स्पिनर और टेक्स्ट के बीच की जगह */

    /* स्पिनर का डिज़ाइन */
    border: 3px solid rgba(24, 210, 163, 0.3); /* हल्का, पारदर्शी बॉर्डर */
    border-top-color: var(--primary-color);       /* मुख्य रंग जो घूमेगा */
    border-radius: 50%;

    /* यहाँ एनीमेशन लागू होता है */
    animation: spin 1s linear infinite;
}

/* यह 'spin' एनीमेशन को परिभाषित करता है */
@keyframes spin {
    to {
        transform: rotate(360deg); /* 0 डिग्री से 360 डिग्री तक घुमाएं */
    }
}


/* --- MAIN APP ORIGINAL STYLES --- */

/* --- Base & Utility (Main App) --- */
/* NOTE: This :root block will override the AI App's :root for conflicting variables */
:root {
    /* Default Theme Colors */
    --primary: #00B49B;
    --secondary: #00FFC3;
    --primary-opposite: #FF6B6B; /* Opposite color for the default theme */
    --accent: #00FFC3;
    --background: #F5F7FA;
    --text-dark: #2C2E43;
    --text-light: #FFFFFF;
    --surface: #FFFFFF;
    --border-color: #e0e0e0;
    --gradient: linear-gradient(100deg, var(--primary), var(--secondary));
    --success: #2ecc71;
    --danger: #e74c3c;
    --success-bg: rgba(0, 255, 195, 0.85);
    --danger-bg: rgba(255, 65, 108, 0.85);
    --warning: #FFB800;
    --neutral-gray: #bdc3c7;
    --text-muted-color: #888;
    --text-on-primary: var(--text-light); /* Default for primary text color on primary background */
}
/* Dark Mode (Main App) */
body.dark-mode {
    --primary: #00FFC3;
    --secondary: #00B49B;
    --primary-opposite: #ff7675; /* Opposite color for the default dark theme */
    --accent: #00FFC3;
    --background: #121212; /* Conflicts with AI --background-color. This will win. */
    --text-dark: #EAEAEA; /* Conflicts with AI --text-color. This will win. */
    --text-light: #121212; /* Conflicts with AI background-color. */
    --surface: #1E1E1E; /* Conflicts with AI --card-bg-color. This will win. */
    --border-color: #333333; /* Conflicts with AI --light-gray. This will win. */
    --success: #27ae60;
    --danger: #c0392b;
    --success-bg: rgba(0, 255, 195, 0.7);
    --danger-bg: rgba(255, 65, 108, 0.7);
    --neutral-gray: #777;
    --text-muted-color: #888;
    --text-on-primary: var(--text-dark); /* For light colored themes on dark mode */
}

/* Body styles (Main App) - Will override AI App body style for conflicting properties */
html, body { font-family: 'Poppins', sans-serif; background-color: var(--background); color: var(--text-dark); height: 100%; width: 100%; overflow: hidden; transition: background-color 0.3s, color 0.3s; -webkit-tap-highlight-color: transparent; }

/* Page transition system (Main App) - Dominant page display/animation logic */
.page { position: fixed; top: 0; left: 0; width: 100%; height: 100%; display: flex; flex-direction: column; opacity: 0; transition: transform 0.4s ease-in-out, opacity 0.4s ease-in-out; transform: translateX(100%); z-index: 10; background-color: var(--background); pointer-events: none; }
.page.active { transform: translateX(0); z-index: 20; opacity: 1; pointer-events: auto; }
.page.no-transition { transition: none; }
#splash-screen { z-index: 102; opacity: 1; pointer-events: auto; }
.hidden { display: none !important; }

/* App Header (Main App) - May conflict with AI App .header */
.app-header { display: flex; justify-content: space-between; align-items: center; padding: 15px 20px; background-color: var(--surface); box-shadow: 0 2px 10px rgba(0,0,0,0.05); width: 100%; border-bottom: 1px solid var(--border-color); flex-shrink: 0; z-index: 10; }
.app-header.transparent-header { background: transparent; box-shadow: none; border: none; position: absolute; top: 0; left: 0; z-index: 5; }
.app-header.transparent-header .header-icon, .app-header.transparent-header .app-title { color: var(--text-light); }
/* NOTE: .app-header .app-title style here vs AI .header h1 style - Specificity matters */
.app-header .app-title { font-size: 1.4rem; font-weight: 700; background: var(--gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; display: flex; align-items: center; gap: 10px; }
.app-header .header-icon { font-size: 1.5rem; cursor: pointer; color: var(--text-dark); width: 40px; text-align: center; }

.main-content { flex-grow: 1; overflow-y: auto; overflow-x: hidden; padding: 20px; }

/* Buttons (Main App) - May conflict with AI App .submit-button */
.btn { padding: 12px 25px; border: none; border-radius: 12px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; display: inline-flex; align-items: center; justify-content: center; gap: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); text-decoration: none; color: inherit; }
.btn-primary { background: var(--gradient); color: var(--text-on-primary); } /* Uses --text-on-primary for better contrast */
body.dark-mode .btn-primary { color: var(--text-on-primary); }
.btn-primary:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(0, 180, 155, 0.4); }

/* Modal Overlays and Content (Main App) */
.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.7); backdrop-filter: blur(5px); display: flex; align-items: center; justify-content: center; z-index: 1000; opacity: 0; pointer-events: none; transition: opacity 0.3s ease; }
.modal-overlay.show, .modal-overlay.active { opacity: 1; pointer-events: auto; }
.modal-content { background: var(--surface); border-radius: 20px; width: 90%; max-width: 400px; text-align: center; box-shadow: 0 10px 30px rgba(0,0,0,0.2); overflow: hidden; transform: scale(0.7); transition: transform 0.3s ease; }
.modal-overlay.show .modal-content, .modal-overlay.active .modal-content { transform: scale(1); }
.modal-header-deco { padding: 40px 20px 20px 20px; background: var(--gradient); position: relative; }
.modal-icon { font-size: 3rem; color: var(--text-light); }
.modal-body { padding: 25px; }

/* Splash Screen Specific Styles (Main App) - Dominant splash logic */
#splash-screen { background: #111; color: var(--text-light); display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; padding: 20px; gap: 20px; }
#splash-logo { font-size: 5rem; color: var(--accent); animation: pop-in 1s ease-out forwards; }
@keyframes pop-in { 0% { transform: scale(0); opacity: 0; } 80% { transform: scale(1.2); opacity: 1; } 100% { transform: scale(1); opacity: 1; } }
#splash-title { font-family: 'Orbitron', sans-serif; font-size: 3rem; font-weight: 700; letter-spacing: 2px; }
#splash-title span { display: inline-block; opacity: 0; animation: fade-in-up 0.5s forwards; }
@keyframes fade-in-up { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
#splash-tagline { font-size: 1rem; opacity: 0; animation: fade-in-up 0.5s 1.5s forwards; }
#splash-loader { width: 150px; height: 4px; background: rgba(255, 255, 255, 0.2); border-radius: 2px; overflow: hidden; opacity: 0; animation: fade-in-up 0.5s 1.8s forwards; margin-top: 20px; }
#splash-loader-bar { width: 0%; height: 100%; background: var(--accent); border-radius: 2px; animation: load 2.5s 2s linear forwards; }
/* @keyframes load defined in both, Main App's version is last, but names are same. This is fine. */
#splash-skip-btn { position: absolute; top: 30px; right: 30px; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.3); color: white; padding: 8px 15px; border-radius: 20px; cursor: pointer; opacity: 0; animation: fade-in-up 0.5s 2.5s forwards; z-index: 10; }
#splash-footer { position: absolute; bottom: 20px; font-size: 0.8rem; color: rgba(255, 255, 255, 0.5); opacity: 0; animation: fade-in-up 0.5s 2.8s forwards; }

/* Form Styles (Main App) - May conflict with AI App .input-box, .textarea-box */
.info-form { width: 100%; max-width: 500px; background-color: var(--surface); padding: 30px; border-radius: 15px; box-shadow: 0 8px 25px rgba(0,0,0,0.08); margin: auto; }
/* NOTE: .info-form h2 may conflict with AI .ai-generated-content h2 */
.info-form h2 { text-align: center; margin-bottom: 25px; font-weight: 700; background: var(--gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
.input-group { margin-bottom: 20px; position: relative; }
.input-group i { position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: var(--primary); }
/* Specificity of .input-group input/textarea should prevent conflict with AI .input-box/.textarea-box */
.input-group input, .input-group select, .input-group textarea { width: 100%; padding: 15px 15px 15px 45px; border: 1px solid var(--border-color); background-color: var(--background); color: var(--text-dark); border-radius: 10px; font-size: 1rem; font-family: 'Poppins', sans-serif; transition: border-color 0.3s, box-shadow 0.3s; appearance: none; -webkit-appearance: none; }
.input-group textarea { padding: 15px; height: 80px; resize: vertical; }
.input-group input:focus, .input-group select:focus, .input-group textarea:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(0, 180, 155, 0.2); }
.login-skip-link { text-align: center; margin-top: 15px; }
.login-skip-link a { color: var(--primary); text-decoration: none; font-weight: 500; }
.input-group select { padding-right: 45px; background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e"); background-repeat: no-repeat; background-position: right 1rem center; background-size: 1em; }

/* Home Screen Layout (Main App) */
#home-screen { display: flex; flex-direction: column; }
#home-screen .main-content { flex-grow: 1; overflow-y: auto; padding-bottom: 80px; }

/* Bottom Navigation Bar (Main App) */
.bottom-nav { display: flex; justify-content: space-around; background-color: var(--surface); padding: 5px 0; box-shadow: 0 -2px 10px rgba(0,0,0,0.05); border-top: 1px solid var(--border-color); flex-shrink: 0; position: fixed; bottom: 0; left: 0; width: 100%; z-index: 50; }
.nav-item { display: flex; flex-direction: column; align-items: center; justify-content: center; cursor: pointer; transition: all 0.3s ease; flex: 1; padding: 5px; height: 60px; }
.nav-item i { font-size: 1.4rem; margin-bottom: 4px; transition: color 0.3s ease; }
.nav-item .nav-text { color: #777; font-size: 0.7rem; text-align: center; font-weight: 500; }
.nav-item .nav-text span { font-weight: 700; color: var(--primary); }

.icon-planner { color: #29b6f6; }
.icon-flashcard { color: #ffa726; }
.icon-ai { color: #2ecc71; } /* Specific AI icon color */
.icon-notes { color: #ef5350; }
.icon-video { color: #ab47bc; }

/* Side Menu Styles (Main App) */
#side-menu { position: fixed; top: 0; left: -300px; width: 280px; height: 100%; background: var(--surface); box-shadow: 5px 0 15px rgba(0,0,0,0.1); z-index: 1002; transition: left 0.4s ease-in-out; display: flex; flex-direction: column; }
#side-menu.open { left: 0; }
#menu-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.4); z-index: 1001; opacity: 0; pointer-events: none; transition: opacity 0.4s ease; }
#menu-overlay.show { opacity: 1; pointer-events: auto; }
.menu-header { padding: 15px 20px; background: var(--gradient); color: var(--text-light); display: flex; align-items: center; gap: 15px; }
.menu-header .header-icon { width: auto; font-size: 1.5rem; }
.menu-header h3 { font-size: 1.4rem; text-align: left; flex-grow: 1; }
.menu-options { list-style: none; padding: 0; margin: 0; flex-grow: 1; overflow-y: auto;}
.menu-options li { padding: 18px 20px; border-bottom: 1px solid var(--border-color); cursor: pointer; display: flex; align-items: center; }
.menu-options li i { margin-right: 15px; color: var(--secondary); width: 20px; text-align: center; }

/* Settings Panel Styles (Main App) */
#settings-panel { position: fixed; top: 0; right: -320px; width: 300px; max-width: 80%; height: 100%; background: var(--surface); box-shadow: -5px 0 15px rgba(0,0,0,0.1); z-index: 1004; transition: right 0.4s ease-in-out; display: flex; flex-direction: column; }
#settings-panel.open { right: 0; }
#settings-panel .settings-content { flex-grow: 1; overflow-y: auto; text-align: left; }
#settings-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.4); z-index: 1003; opacity: 0; pointer-events: none; transition: opacity 0.4s ease; }
#settings-overlay.show { opacity: 1; pointer-events: auto; }
#settings-panel .modal-header, #event-settings-modal .modal-header { display: flex; align-items: center; padding: 15px 20px; border-bottom: 1px solid var(--border-color); flex-shrink: 0; }
#settings-panel .modal-header h3, #event-settings-modal .modal-header h3 { margin-left: 15px; }
.theme-section { padding: 20px; }
.theme-section h4 { margin: 20px 0 15px 0; font-weight: 600; }
.theme-section h4:first-child { margin-top: 0; }
.theme-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(35px, 1fr)); gap: 15px; justify-items: center; }
.theme-swatch { width: 35px; height: 35px; border-radius: 50%; cursor: pointer; border: 3px solid transparent; transition: border-color 0.2s; }
.theme-swatch.active { border-color: var(--accent); box-shadow: 0 0 10px var(--accent); }
.settings-list { list-style: none; padding: 0; margin: 0; }
.settings-list li { display: flex; align-items: center; justify-content: space-between; padding: 15px 20px; border-top: 1px solid var(--border-color); cursor: pointer; }
.settings-list li .item-content { display:flex; align-items:center; }
.settings-list li i { margin-right: 15px; width: 20px; text-align: center; color: var(--primary); }
.switch { position: relative; display: inline-block; width: 50px; height: 26px; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 34px; }
.slider:before { position: absolute; content: ""; height: 20px; width: 20px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
input:checked + .slider { background-color: var(--primary); }
input:checked + .slider:before { transform: translateX(24px); }

/* Home Screen Slider (Main App) */
#home-screen .main-content { padding: 10px; }
.slider-container { width: 100%; margin: 10px auto; border-radius: 16px; overflow: hidden; position: relative; box-shadow: 0 8px 25px rgba(0,0,0,0.1); aspect-ratio: 16 / 8; }
.slider-wrapper { display: flex; height: 100%; }
.slide { flex-shrink: 0; width: 100%; height: 100%; }
.slide img { width: 100%; height: 100%; object-fit: cover; }
.slider-pagination { position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%); display: flex; gap: 8px; }
.dot { width: 10px; height: 10px; border-radius: 50%; background-color: rgba(255, 255, 255, 0.5); cursor: pointer; transition: background-color 0.3s; }
.dot.active { background-color: white; }

/* Home Screen Content Cards (Main App) - Generic .card might conflict with AI's generic .card */
/* Adding specificity here might be necessary if conflicts occur */
.home-grid-container { display: grid; grid-template-columns: 1fr; gap: 20px; padding: 20px 0; }
.home-content-card { background-color: var(--surface); border-radius: 16px; overflow: hidden; box-shadow: 0 8px 25px rgba(0,0,0,0.08); cursor: pointer; transition: all 0.3s ease; }
.home-content-card:hover { transform: translateY(-5px); box-shadow: 0 12px 30px rgba(0,0,0,0.12); }
.home-card-image { width: 100%; aspect-ratio: 16 / 9; background-color: var(--border-color); }
.home-card-image img { width: 100%; height: 100%; object-fit: cover; }
.home-card-info { padding: 15px; display: flex; justify-content: space-between; align-items: center; }
.home-card-info h3 { font-size: 1.2rem; font-weight: 600; margin: 0; }
.btn-start-mini { background: var(--gradient); color: var(--text-light); border: none; border-radius: 20px; padding: 8px 15px; font-size: 0.9rem; font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 5px; }
body.dark-mode .btn-start-mini { color: var(--text-light); }

/* Countdown Screen Styles (Main App) */
#countdown-screen .main-content { padding-top: 80px; display: flex; flex-direction: column; align-items: center; justify-content: center; background-color: #1a1a2e; color: #fff; }
.event-display-wrapper { text-align: center; }
.event-info { margin-bottom: 30px; }
.event-info h2 { font-size: 1.8rem; font-weight: 700; margin-bottom: 5px; }
.event-info p { font-size: 0.9rem; color: #aaa; }
.circular-timer-container { position: relative; width: 300px; height: 300px; }
.circular-timer-svg { transform: rotate(-90deg); }
.circular-timer-svg circle { stroke-width: 12; fill: transparent; }
.timer-ring-bg { stroke: rgba(255,255,255,0.1); }
.timer-ring-progress { stroke: var(--accent); stroke-linecap: round; transition: stroke-dashoffset 1s linear; }
.circular-timer-grid { position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: grid; grid-template-columns: 1fr 1fr; grid-template-rows: 1fr 1fr; gap: 20px; padding: 50px; }
.timer-unit { text-align: center; }
.timer-unit .value { font-family: 'Orbitron', sans-serif; font-size: 2.2rem; font-weight: 700; }
.timer-unit .label { font-size: 0.7rem; text-transform: uppercase; letter-spacing: 1px; color: #aaa; }

/* Self Quiz Styles (Main App) */
.quiz-lobby-grid { display: grid; grid-template-columns: 1fr; gap: 15px; }
.quiz-card, .quiz-creator-card { background: var(--surface); border-radius: 15px; padding: 20px; box-shadow: 0 5px 20px rgba(0,0,0,0.07); text-align: center; }
.quiz-player-container { display: flex; flex-direction: column; height: 100%; }
.quiz-header { padding: 15px; border-bottom: 1px solid var(--border-color); text-align: center; }
.quiz-question-area { flex-grow: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 20px; text-align: center; }
.quiz-options { width: 100%; max-width: 400px; display: flex; flex-direction: column; gap: 15px; }
.quiz-option { background-color: var(--surface); border: 2px solid var(--border-color); border-radius: 12px; padding: 15px; text-align: left; cursor: pointer; transition: all 0.2s ease; }
.quiz-option:hover { border-color: var(--primary); transform: translateY(-2px); }
.quiz-option.selected { background-color: var(--primary); color: var(--text-light); border-color: var(--primary); }
body.dark-mode .quiz-option.selected { color: var(--text-light); }
.quiz-option.correct { background-color: var(--success); color: var(--text-light); border-color: var(--success); }
body.dark-mode .quiz-option.correct { color: var(--text-light); }
.quiz-option.incorrect { background-color: var(--danger); color: var(--text-light); border-color: var(--danger); }
body.dark-mode .quiz-option.incorrect { color: var(--text-light); }
.quiz-footer { padding: 20px; text-align: center; }
.quiz-review-question { background: var(--surface); border-radius: 10px; padding: 15px; margin-bottom: 15px; text-align: left; border-left: 5px solid var(--danger); }
.quiz-review-question.correct-review { border-left-color: var(--success); }

/* Insight AI Screen Styles (Main App - Placeholder related) */
/* NOTE: This likely won't be used directly with the new HTML structure,
   but keep it for completeness in case it holds shared AI page styles. */
#insight-ai-screen { padding: 0; position: relative; }
.ai-iframe-container { width: 100%; height: 100%; display: flex; flex-direction: column; }
.ai-iframe { flex-grow: 1; border: none; }
#ai-loading-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: var(--background); color: var(--text-dark); z-index: 30; display: none; flex-direction: column; align-items: center; padding: 20px; overflow-y: auto; }
#ai-loading-overlay .robot-icon { font-size: 5rem; color: var(--primary); margin-top: 10vh; animation: float 3s ease-in-out infinite; }
@keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
#ai-loading-overlay h2 { margin-top: 20px; font-size: 1.5rem; color: var(--primary); }
#ai-loading-overlay p { max-width: 600px; text-align: center; line-height: 1.6; margin-top: 15px; font-size: 0.95rem; }


/* --- FLASHCARD SPECIFIC STYLES (Main App) --- */
/* NOTE: This block uses --flash-* variables which are specific to THIS block. */
#flashcard-screen {
    --flash-primary-bg: var(--background); /* Maps to Main App Background */
    --flash-card-bg: var(--surface); /* Maps to Main App Surface */
    --flash-accent-color: var(--primary); /* Maps to Main App Primary */
    --flash-accent-hover: var(--secondary); /* Maps to Main App Secondary */
    --flash-text-primary: var(--text-dark); /* Maps to Main App Text Dark */
    --flash-text-secondary: var(--neutral-gray); /* Maps to Main App Neutral Gray */
    --flash-border-color: var(--border-color); /* Maps to Main App Border Color */
    --flash-inactive-color: #444444;
    --flash-danger-color: var(--danger); /* Maps to Main App Danger */
    --flash-warning-color: var(--warning); /* Maps to Main App Warning */
    --flash-success-color: var(--success); /* Maps to Main App Success */
    --flash-easy-color: #3742fa;
    background-color: var(--flash-primary-bg) !important; /* Use !important to override default .page background if needed */
    color: var(--flash-text-primary) !important; /* Use !important */
}

#flashcard-screen .main-content {
    padding: 0;
    height: 100%;
    display: flex; /* Manage sub-screen layout */
    flex-direction: column;
}

/* Sub-screen styles within Main App Flashcard page */
#flashcard-screen .flash-sub-screen {
    height: 100%; /* Take full height of main-content */
    width: 100%;
    overflow-y: auto;
    display: none;
    flex-direction: column;
    padding: 20px;
}
#flashcard-screen .flash-sub-screen.active {
    display: flex;
}

#flashcard-screen .screen-header {
    display: flex;
    align-items: center;
    margin-bottom: 24px;
    color: var(--flash-text-primary);
    flex-shrink: 0; /* Prevent header from shrinking */
}
#flashcard-screen .screen-header .back-btn {
    background: none;
    border: none;
    color: var(--flash-text-primary);
    font-size: 24px;
    margin-right: 16px;
    cursor: pointer;
}
#flashcard-screen .screen-header h1 {
    font-size: 24px;
    font-weight: 600;
}

/* Deck Hub Screen (Main App Flashcard) */
#flashcard-screen #deckGrid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
    gap: 16px;
}

#flashcard-screen .deck-card,
#flashcard-screen .add-deck-card {
    background-color: var(--flash-card-bg);
    border-radius: 12px;
    padding: 16px;
    aspect-ratio: 1 / 1;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    cursor: pointer;
    border: 1px solid var(--flash-border-color);
    transition: transform 0.2s ease, border-color 0.2s ease;
}
#flashcard-screen .deck-card:hover {
    transform: translateY(-5px);
    border-color: var(--flash-accent-color);
}
#flashcard-screen .deck-card-name {
    font-weight: 600;
    color: var(--flash-text-primary);
}
#flashcard-screen .deck-card-count {
    color: var(--flash-text-secondary);
    font-size: 14px;
}
#flashcard-screen .add-deck-card {
    justify-content: center;
    align-items: center;
    color: var(--flash-text-secondary);
    border: 2px dashed var(--flash-border-color);
}
#flashcard-screen .add-deck-card .plus-icon {
    font-size: 40px;
}

/* Deck View Screen Specifics (Main App Flashcard) */
#flashcard-screen #deckViewScreen {
    padding-bottom: 80px; /* Space for bottom nav if it overlaps */
}

#flashcard-screen .add-card-section {
    background-color: var(--flash-card-bg);
    padding: 20px;
    border-radius: 12px;
    margin-bottom: 24px;
    flex-shrink: 0; /* Prevent this section from shrinking */
}
#flashcard-screen .add-card-section h2 {
    margin-bottom: 16px;
    color: var(--flash-text-primary);
}

#flashcard-screen .flashcard-viewer {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
    margin-top: 20px;
    flex-grow: 1; /* Allow this to take remaining space if needed, but content should define its height */
    width: 100%;
}

/* Flashcard Navigation (Back/Next buttons) (Main App Flashcard) */
.flashcard-nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    max-width: 400px;
}

.nav-arrow {
    background-color: var(--flash-card-bg);
    border: 1px solid var(--flash-border-color);
    color: var(--flash-text-secondary);
    width: 44px;
    height: 44px;
    border-radius: 50%;
    font-size: 20px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}
.nav-arrow:hover {
    background-color: var(--flash-accent-color);
    color: var(--text-light);
    border-color: var(--flash-accent-color);
}
body.dark-mode .nav-arrow:hover {
    color: var(--text-light);
}


#flashcard-screen .flashcard-container {
    width: 100%;
    max-width: 350px;
    aspect-ratio: 5 / 3;
    perspective: 1000px;
    position: relative;
    cursor: pointer;
}

#flashcard-screen .flashcard {
    width: 100%;
    height: 100%;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.6s;
}

#flashcard-screen .flashcard.is-flipped {
    transform: rotateY(180deg);
}

#flashcard-screen .flashcard-face {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    background-color: var(--flash-card-bg);
    border-radius: 16px;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
    text-align: center;
    font-size: 18px;
    border: 1px solid var(--flash-border-color);
    color: var(--flash-text-primary);
    box-shadow: 0 4px 15px rgba(0,0,0,0.05);
    overflow-y: auto; /* Allow scrolling for long content */
}

#flashcard-screen .flashcard-back {
    transform: rotateY(180deg);
    font-weight: 600;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    padding: 15px;
}

.flashcard-answer-text {
    flex-grow: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow-y: auto;
    max-height: calc(100% - 60px); /* Adjust based on SRS buttons height */
    font-size: 17px;
    padding-bottom: 10px; /* Space before SRS buttons */
}

#flashcard-screen .card-controls {
    position: absolute;
    top: 10px;
    left: 10px;
    z-index: 5;
}

#flashcard-screen .card-control-btn {
    background: rgba(0,0,0,0.3);
    border: none;
    color: var(--text-light);
    font-size: 18px;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}
body.dark-mode #flashcard-screen .card-control-btn {
    color: var(--text-light);
}

#flashcard-screen .card-actions {
    display: flex;
    justify-content: center;
    width: 100%;
    max-width: 350px;
}

#flashcard-screen .srs-buttons {
    display: none;
    flex-wrap: wrap;
    justify-content: center;
    gap: 8px;
    width: 100%;
    padding-top: 10px;
    margin-top: auto; /* Push to bottom if answer text is short */
    flex-shrink: 0; /* Prevent shrinking */
}

.flashcard.is-flipped .srs-buttons {
    display: flex;
}

#flashcard-screen .srs-buttons .btn {
    flex: 1 1 calc(50% - 8px);
    font-size: 13px;
    padding: 8px;
    margin: 0;
    box-shadow: none;
}

#flashcard-screen .btn-again { background-color: var(--flash-danger-color); color: white; }
#flashcard-screen .btn-hard { background-color: var(--flash-warning-color); color: white; }
#flashcard-screen .btn-good { background-color: var(--flash-success-color); color: white; }
#flashcard-screen .btn-easy { background-color: var(--flash-easy-color); color: white; }


/* Performance Screen Styles (Main App Flashcard) */
#flashcard-screen .performance-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
    margin-bottom: 24px;
}
#flashcard-screen .stat-card {
    background-color: var(--flash-card-bg);
    padding: 16px;
    border-radius: 12px;
}
#flashcard-screen .stat-card .label {
    color: var(--flash-text-secondary);
}
#flashcard-screen .stat-card .value {
    font-size: 24px;
    font-weight: 700;
    color: var(--flash-text-primary);
}
#flashcard-screen .stat-card .flame {
    color: var(--flash-warning-color);
}

#flashcard-screen .chart-container {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 24px;
    position: relative;
}
#flashcard-screen .donut-chart {
    width: 180px;
    height: 180px;
    border-radius: 50%;
    background-image: conic-gradient(
        var(--flash-easy-color) 0% 0%,
        var(--flash-success-color) 0% 0%,
        var(--flash-warning-color) 0% 0%,
        var(--flash-danger-color) 0% 100%
    );
    position: relative;
}
#flashcard-screen .chart-center {
    position: absolute;
    width: 120px;
    height: 120px;
    background: var(--flash-primary-bg);
    border-radius: 50%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}
#flashcard-screen .chart-total {
    font-size: 28px;
    font-weight: 700;
    color: var(--flash-text-primary);
}
#flashcard-screen .chart-label {
    color: var(--flash-text-secondary);
    font-size: 14px;
}

/* Section titles within Main App Flashcard Performance */
#flashcard-screen h3 {
    color: var(--flash-text-primary);
}
#flashcard-screen .card-list-section .search-bar {
    width: 100%;
    margin-bottom: 16px;
}
#flashcard-screen #cardListContainer .card-list-item {
    background-color: var(--flash-card-bg);
    padding: 12px 16px;
    border-radius: 8px;
    margin-bottom: 8px;
    font-size: 14px;
    cursor: pointer;
    color: var(--flash-text-primary);
}
#flashcard-screen #cardListContainer .card-list-item .answer {
    color: var(--flash-text-secondary);
    font-style: italic;
    margin-top: 4px;
    display: none;
}

/* How to Run Screen Styles (Main App Flashcard) */
#flashcard-screen #howToRunScreen h2 {
    font-size: 22px;
    color: var(--flash-accent-color);
    margin-top: 20px;
    margin-bottom: 15px;
    padding-bottom: 5px;
    border-bottom: 1px solid var(--flash-border-color);
}
#flashcard-screen #howToRunScreen h3 {
    font-size: 18px;
    margin-top: 15px;
    margin-bottom: 8px;
    color: var(--flash-text-primary);
}
#flashcard-screen #howToRunScreen p, #flashcard-screen #howToRunScreen li {
    color: var(--flash-text-secondary);
    line-height: 1.6;
    margin-bottom: 10px;
}
#flashcard-screen #howToRunScreen hr {
    border: none;
    border-top: 1px solid var(--flash-border-color);
    margin: 30px 0;
}

/* Bottom Navigation for Flashcard Feature (Main App) */
/* ✅✅✅ BADLAAV: Sirf ek button (Decks) ke liye layout adjust kiya gaya hai ✅✅✅ */
#flashcard-screen .bottom-nav {
    background-color: var(--flash-card-bg);
    border-top: 1px solid var(--flash-border-color);
    display: flex;
    justify-content: center; /* Center the single button */
}
#flashcard-screen .nav-btn {
    background: none;
    border: none;
    color: var(--flash-text-secondary);
    display: flex;
    flex-direction: column;
    align-items: center;
    font-size: 12px;
    cursor: pointer;
    transition: color 0.2s ease;
    padding: 8px 20px; /* Button ko thoda padding diya gaya hai */
    height: auto; /* Height auto ho jayegi content ke anusaar */
}
#flashcard-screen .nav-btn .icon {
    font-size: 24px;
    margin-bottom: 4px;
}
#flashcard-screen .nav-btn.active {
    color: var(--flash-accent-color);
}

/* Sticky Note Styles (Main App) */
#sticky-note-screen {
    --sn-bg-color: var(--background);
    --sn-primary-accent: var(--primary);
    --sn-card-bg: var(--surface);
    --sn-border-color: var(--border-color);
    --sn-text-primary: var(--text-dark);
    --sn-text-secondary: var(--neutral-gray);
    --sn-text-dark: var(--text-light);
    --sn-danger-color: var(--danger);
    background-color: var(--sn-bg-color) !important;
    color: var(--sn-text-primary) !important;
}
/* NOTE: Header styles here apply to the header *within* the sticky note page */
#sticky-note-screen .app-header .app-title, #sticky-note-screen .app-header .header-icon { color: var(--text-dark); }
body.dark-mode #sticky-note-screen .app-header .app-title, body.dark-mode #sticky-note-screen .app-header .header-icon { color: var(--text-dark); }
#sticky-note-screen .app-header .app-title { background: var(--gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
#sticky-note-screen .main-content { padding: 15px; max-width: 800px; margin: 0 auto; width: 100%; }
/* NOTE: #sticky-note-screen h1 may conflict with AI .ai-generated-content h1 */
#sticky-note-screen h1 { font-size: 2.5rem; font-weight: 700; margin-bottom: 20px; }
#sticky-note-screen .search-container { display: flex; gap: 10px; margin-bottom: 20px; }
#sticky-note-screen #search-input { flex-grow: 1; padding: 12px 15px; background: var(--sn-card-bg); border: 2px solid var(--sn-border-color); border-radius: 10px; color: var(--sn-text-primary); font-size: 1rem; }
#sticky-note-screen #search-btn { padding: 0 20px; background: var(--sn-primary-accent); color: var(--text-light); border: none; border-radius: 10px; font-weight: 600; cursor: pointer; }
body.dark-mode #sticky-note-screen #search-btn { color: var(--text-light); }
#sticky-note-screen #category-filter-container { display: flex; gap: 10px; overflow-x: auto; padding-bottom: 10px; margin-bottom: 20px; }
#sticky-note-screen .category-pill { padding: 8px 15px; background: var(--sn-card-bg); border: 2px solid var(--sn-border-color); border-radius: 20px; white-space: nowrap; cursor: pointer; transition: all 0.2s ease; color: var(--sn-text-primary); }
#sticky-note-screen .category-pill.active { background: var(--sn-primary-accent); color: var(--text-light); border-color: var(--sn-primary-accent); font-weight: 600; }
body.dark-mode #sticky-note-screen .category-pill.active { color: var(--text-light); }
#sticky-note-screen #notes-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 15px; }
#sticky-note-screen .note-card { background: var(--sn-card-bg); border-radius: 12px; padding: 15px; border: 2px solid var(--sn-border-color); display: flex; flex-direction: column; gap: 10px; transition: transform 0.2s; cursor: pointer; }
#sticky-note-screen .note-card:hover { transform: translateY(-5px); }
#sticky-note-screen .note-card-header { display: flex; justify-content: space-between; align-items: center; }
#sticky-note-screen .note-category { font-size: 0.8rem; font-weight: 600; }
#sticky-note-screen .note-actions button { background: none; border: none; cursor: pointer; font-size: 1.2rem; padding: 5px; }
#sticky-note-screen .note-actions button:hover { opacity: 0.7; }
#sticky-note-screen .note-pin.pinned { color: var(--sn-primary-accent); }
#sticky-note-screen .note-content-preview { white-space: pre-wrap; word-wrap: break-word; max-height: 150px; overflow: hidden; opacity: 0.8; font-size: 0.9rem; }
#sticky-note-screen .note-content-preview .checklist-item { display: flex; gap: 10px; align-items: center; }
#sticky-note-screen .note-content-preview .checklist-item.checked { text-decoration: line-through; opacity: 0.5; }
#sticky-note-screen #create-note-fab { position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px; background: var(--sn-primary-accent); border-radius: 50%; border: none; display: flex; justify-content: center; align-items: center; font-size: 2.5rem; color: var(--text-light); box-shadow: 0 5px 15px color-mix(in srgb, var(--primary) 40%, transparent); cursor: pointer; transition: transform 0.2s; z-index: 99; }
body.dark-mode #sticky-note-screen #create-note-fab { color: var(--text-light); }
#sticky-note-screen #create-note-fab:hover { transform: scale(1.1); }
#sticky-note-screen #note-editor { display: none; }
#sticky-note-screen #note-editor.active { display: block; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--sn-bg-color); padding: 20px; overflow-y: auto; z-index: 100; animation: slideUp 0.3s ease-out; }
@keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
#sticky-note-screen #editor-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
#sticky-note-screen #editor-header h2 { font-size: 1.5rem; }
#sticky-note-screen .editor-btn { background: var(--sn-card-bg); border: 2px solid var(--sn-border-color); color: var(--sn-text-primary); padding: 10px 20px; border-radius: 10px; font-size: 1rem; cursor: pointer; }
#sticky-note-screen .category-input-container { display: flex; gap: 10px; margin-bottom: 15px; }
#sticky-note-screen .category-input-container input, #sticky-note-screen .category-input-container select { padding: 12px; background: var(--sn-card-bg); border: 2px solid var(--sn-border-color); border-radius: 10px; color: var(--sn-text-primary); font-size: 1rem; }
#sticky-note-screen .category-input-container input { flex-grow: 1; }
#sticky-note-screen #note-content { width: 100%; height: 40vh; padding: 15px; background: var(--sn-card-bg); border: 2px solid var(--sn-border-color); border-radius: 10px; color: var(--sn-text-primary); font-size: 1rem; resize: none; font-family: 'Poppins', sans-serif; }
#sticky-note-screen .toolbar { display: flex; align-items: center; gap: 15px; margin-top: 15px; }
#sticky-note-screen .color-picker { display: flex; gap: 10px; }
#sticky-note-screen .color-dot { width: 25px; height: 25px; border-radius: 50%; cursor: pointer; border: 2px solid transparent; }
#sticky-note-screen .color-dot.selected { border-color: var(--sn-text-primary); transform: scale(1.2); }
#sticky-note-screen #checklist-toggle.active { color: var(--sn-primary-accent); }
#sticky-note-screen .auto-delete-container { margin-top: 20px; }
#sticky-note-screen .auto-delete-container input[type="checkbox"] { margin-right: 10px; }
#sticky-note-screen .auto-delete-container input[type="datetime-local"] { margin-left: 10px; padding: 5px; background: var(--sn-card-bg); color: var(--sn-text-primary); border: 1px solid var(--sn-border-color); border-radius: 5px; }
#sticky-note-screen #delete-timer-display { margin-top: 5px; color: var(--sn-text-secondary); font-size: 0.9rem; }
#sticky-note-screen #delete-timer-display button { margin-left: 10px; color: var(--sn-danger-color); background: none; border: none; cursor: pointer; }

/* Study Planner Styles (Main App) */
/* NOTE: This refers to the MAIN app's study planner, NOT the AI one.
   The AI Study Planner is now #ai-study-planner-page and its styles are ABOVE. */
#study-planner-screen { font-family: 'Poppins', sans-serif; background-color: var(--background); color: var(--text-dark); }
#study-planner-screen .app-container { max-width: 700px; margin: 0 auto; padding: 20px; }
#study-planner-screen .quote-banner { background-color: var(--primary); color: var(--text-light); padding: 15px 20px; border-radius: 12px; text-align: center; }
body.dark-mode #study-planner-screen .quote-banner { color: var(--text-light); }
#study-planner-screen .intro-section #quote { font-size: 16px; font-weight: 600; margin-bottom: 5px; }
#study-planner-screen .intro-section #date { font-size: 13px; opacity: 0.8; }
#study-planner-screen h2.section-title { font-size: 20px; font-weight: 600; margin-bottom: 20px; padding-bottom: 5px; border-bottom: 1px solid var(--border-color); }
#study-planner-screen .task-list { display: flex; flex-direction: column; gap: 15px; }
#study-planner-screen .task-card { background-color: var(--surface); border-radius: 12px; padding: 18px; display: grid; grid-template-columns: 1fr auto; grid-template-rows: auto auto auto; gap: 10px 15px; border: 1px solid transparent; transition: all 0.2s ease-in-out; }
#study-planner-screen .task-card.task-completed { opacity: 0.7; background: color-mix(in srgb, var(--surface) 80%, black); }
#study-planner-screen .task-info { grid-column: 1 / 2; }
#study-planner-screen .task-subject { font-size: 12px; font-weight: 600; color: var(--primary); text-transform: uppercase; margin-bottom: 4px; }
#study-planner-screen .task-topic { font-size: 18px; font-weight: 500; }
#study-planner-screen .task-card.task-completed .task-topic { text-decoration: line-through; }
#study-planner-screen .task-timer-display { grid-column: 1 / 2; grid-row: 2 / 3; display: flex; align-items: center; gap: 8px; font-size: 16px; font-weight: 500; color: #888; }
body.dark-mode #study-planner-screen .task-timer-display { color: var(--neutral-gray); }
#study-planner-screen .task-timer-display.active { font-size: 22px; font-weight: 600; color: var(--text-dark); }
#study-planner-screen .task-timer-display.overtime { color: var(--warning); }
#study-planner-screen .task-status-icon { font-size: 24px; }
#study-planner-screen .task-actions { grid-column: 2 / 3; grid-row: 1 / 4; display: flex; flex-direction: column; justify-content: center; align-items: center; gap: 10px; }
#study-planner-screen .task-card .progress-bar { grid-column: 1 / -1; grid-row: 3 / 4; width: 100%; height: 6px; background-color: var(--border-color); border-radius: 3px; overflow: hidden; margin-top: 5px; }
#study-planner-screen .task-card .progress-bar-inner { height: 100%; width: 0%; background-color: var(--primary); border-radius: 3px; transition: width 1s linear; }
#study-planner-screen .empty-state { text-align: center; color: #888; padding: 40px 20px; border: 2px dashed var(--border-color); border-radius: 12px; }
/* NOTE: .btn styles specific to Main App Study Planner */
#study-planner-screen .btn { padding: 10px 15px; border: none; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer; transition: background-color 0.2s; font-family: 'Poppins', sans-serif; }
#study-planner-screen .btn-primary { background-color: var(--primary); color: var(--text-light); }
body.dark-mode #study-planner-screen .btn-primary { color: var(--text-light); }
#study-planner-screen .btn-primary:hover { background-color: color-mix(in srgb, var(--primary) 85%, black); }
#study-planner-screen .btn-secondary { background-color: var(--border-color); color: var(--text-dark); }
#study-planner-screen .btn-secondary:hover { background-color: color-mix(in srgb, var(--border-color) 85%, black); }
#study-planner-screen .icon-btn { background: none; border: none; cursor: pointer; padding: 5px; }
#study-planner-screen .icon-btn svg { width: 24px; height: 24px; transition: fill 0.2s; }
#study-planner-screen .btn-delete svg { fill: #888; }
#study-planner-screen .btn-delete:hover svg { fill: var(--danger); }
#study-planner-screen .btn-done { width: 100%; margin-top: 5px; }
#study-planner-screen .fab { position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px; background-color: var(--primary); border-radius: 50%; border: none; display: flex; align-items: center; justify-content: center; font-size: 36px; color: var(--text-light); box-shadow: 0 4px 15px color-mix(in srgb, var(--primary) 40%, transparent); cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; }
body.dark-mode #study-planner-screen .fab { color: var(--text-light); }
#study-planner-screen .fab:hover { transform: scale(1.1); box-shadow: 0 6px 20px color-mix(in srgb, var(--primary) 50%, transparent); }
#study-planner-screen .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.7); backdrop-filter: blur(5px); display: none; align-items: center; justify-content: center; z-index: 1000; padding: 20px; }
#study-planner-screen .modal-overlay.active { display: flex; }
#study-planner-screen .modal-content, #study-planner-screen .popup-content { background-color: var(--surface); padding: 30px; border-radius: 16px; width: 100%; max-width: 400px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
#study-planner-screen .modal-content h3 { font-size: 22px; margin-bottom: 20px; text-align: center; }
#study-planner-screen .form-group { margin-bottom: 15px; }
#study-planner-screen .form-group label { display: block; margin-bottom: 5px; color: #888; font-size: 14px; }
body.dark-mode #study-planner-screen .form-group label { color: var(--neutral-gray); }
#study-planner-screen .form-group input[type="text"], #study-planner-screen #timeSelectorBtn { width: 100%; padding: 12px; border-radius: 8px; border: 1px solid var(--border-color); background-color: var(--background); color: var(--text-dark); font-family: 'Poppins', sans-serif; font-size: 16px; }
#study-planner-screen #timeSelectorBtn { text-align: left; cursor: pointer; }
#study-planner-screen .modal-actions { margin-top: 25px; display: flex; gap: 10px; }
#study-planner-screen .modal-actions .btn { flex-grow: 1; }
#study-planner-screen .time-picker-container { display: flex; justify-content: center; gap: 10px; margin-bottom: 25px; }
#study-planner-screen .time-picker-container select { background-color: var(--background); color: var(--text-dark); border: 1px solid var(--border-color); border-radius: 8px; padding: 10px; font-size: 16px; -webkit-appearance: none; -moz-appearance: none; appearance: none; text-align: center; }
#study-planner-screen .time-picker-col { display: flex; flex-direction: column; align-items: center; }
#study-planner-screen .time-picker-col label { font-size: 12px; color: #888; margin-bottom: 5px; }
body.dark-mode #study-planner-screen .time-picker-col label { color: var(--neutral-gray); }
#study-planner-screen .popup-content { text-align: center; }
#study-planner-screen .popup-icon { font-size: 50px; margin-bottom: 15px; }
#study-planner-screen .popup-content h3 { font-size: 24px; margin-bottom: 10px; }
#study-planner-screen .popup-content p { color: #888; margin-bottom: 25px; }
body.dark-mode #study-planner-screen .popup-content p { color: var(--neutral-gray); }

/* Self Progress Styles (Main App) */
#self-progress-screen { --sp-bg-color: var(--background); --sp-surface-color: var(--surface); --sp-primary-color: var(--primary); --sp-text-color: var(--text-dark); --sp-text-muted-color: var(--neutral-gray); --sp-border-color: var(--border-color); --sp-highlight-color: color-mix(in srgb, var(--primary) 15%, transparent); font-family: 'Inter', sans-serif; background-color: var(--sp-bg-color) !important; color: var(--sp-text-color) !important; }
#self-progress-screen .app-container { width: 100%; height: 100%; display: flex; flex-direction: column; overflow: hidden; }
#self-progress-screen .progress-page { width: 100%; height: 100%; padding: 20px; flex-shrink: 0; background-color: var(--sp-bg-color); transition: transform 0.4s ease-in-out; position: relative; display: flex; flex-direction: column; }
#self-progress-screen .progress-page.hidden { display: none; }
/* NOTE: #self-progress-screen h2 may conflict with AI .ai-generated-content h2 */
#self-progress-screen h2 { font-weight: 700; color: var(--sp-primary-color); text-align: center; margin-bottom: 20px; flex-shrink: 0; }
#self-progress-screen #focus-hub-page { justify-content: center; align-items: center; gap: 20px; }
#self-progress-screen .focus-selector-wrapper { display: flex; align-items: center; gap: 15px; }
#self-progress-screen .swiper-nav-btn { background: none; border: none; color: var(--sp-text-muted-color); font-size: 2.5rem; cursor: pointer; transition: color 0.2s; }
#self-progress-screen .icon-swiper-container { width: 200px; height: 200px; position: relative; display: flex; justify-content: center; align-items: center; }
#self-progress-screen .icon-swiper { width: 150px; height: 150px; } #self-progress-screen .icon-swiper .swiper-slide { font-size: 80px; display: flex; justify-content: center; align-items: center; cursor: pointer; user-select: none; }
#self-progress-screen .icon-swiper-container.in-session { border-radius: 50%; animation: pulse-glow 2s infinite; }
@keyframes pulse-glow { 0% { box-shadow: 0 0 20px color-mix(in srgb, var(--sp-primary-color) 40%, transparent); } 50% { box-shadow: 0 0 35px color-mix(in srgb, var(--sp-primary-color) 80%, transparent); } 100% { box-shadow: 0 0 20px color-mix(in srgb, var(--sp-primary-color) 40%, transparent); } }
#self-progress-screen .progress-ring { position: absolute; top: 0; left: 0; width: 100%; height: 100%; transform: rotate(-90deg); }
#self-progress-screen .progress-ring__circle { stroke: var(--sp-primary-color); stroke-width: 8; fill: transparent; transition: stroke-dashoffset 1s linear; }
#self-progress-screen #instruction-text { color: var(--sp-text-muted-color); font-size: 1rem; text-align: center; transition: opacity 0.3s; }
#self-progress-screen .timer-display { font-size: 4rem; font-weight: 700; letter-spacing: 2px; margin-top: 10px; }
#self-progress-screen .analytics-nav-btn { position: absolute; bottom: 30px; padding: 12px 25px; font-size: 1rem; font-weight: 700; background-color: var(--sp-primary-color); color: var(--text-light); border: none; border-radius: 25px; cursor: pointer; transition: transform 0.2s; }
body.dark-mode #self-progress-screen .analytics-nav-btn { color: var(--text-light); }
#self-progress-screen .analytics-nav-btn:hover { transform: scale(1.05); }
#self-progress-screen #analytics-page { transform: translateX(100%); position: absolute; top:0; left:0; }
#self-progress-screen #analytics-page.active { transform: translateX(0); }
#self-progress-screen .back-btn { position: absolute; top: 20px; left: 20px; font-size: 1.5rem; background: none; border: none; color: var(--sp-text-muted-color); cursor: pointer; z-index: 10; }
#self-progress-screen .timeframe-nav { flex-shrink: 0; display: flex; justify-content: center; background-color: var(--sp-surface-color); border-radius: 25px; padding: 5px; margin-bottom: 20px; }
#self-progress-screen .timeframe-btn { flex: 1; padding: 10px; border: none; background: none; color: var(--sp-text-muted-color); font-weight: 500; cursor: pointer; transition: all 0.3s; border-radius: 20px; }
#self-progress-screen .timeframe-btn.active { background-color: var(--sp-primary-color); color: var(--text-light); }
body.dark-mode #self-progress-screen .timeframe-btn.active { color: var(--text-light); }
#self-progress-screen .analytics-swiper { flex-grow: 1; width: 100%; height: 100%; }
#self-progress-screen .chart-container { height: 100%; overflow-y: auto; padding-right: 10px; }
#self-progress-screen .data-bar-list { list-style: none; padding: 0; display: flex; flex-direction: column; gap: 8px; }
#self-progress-screen .data-bar-item { display: flex; align-items: center; gap: 10px; padding: 4px; border-radius: 4px; transition: background-color 0.5s; }
#self-progress-screen .bar-label { width: 70px; text-align: right; font-size: 0.9rem; color: var(--sp-text-muted-color); flex-shrink: 0;}
#self-progress-screen .bar-container { flex-grow: 1; background-color: var(--sp-surface-color); height: 20px; border-radius: 4px; overflow: hidden; }
#self-progress-screen .bar-fill { height: 100%; background-color: var(--sp-primary-color); width: 0%; transition: width 0.5s ease-out; }
#self-progress-screen .day-view-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
#self-progress-screen .chart-container.day-view { overflow-y: hidden; }

/* Watch Video Screen Styles (Main App) */
#watch-video-screen { background-color: var(--background); color: var(--text-dark); }
#watch-video-screen .wv-app-container { width: 100%; height: 100%; position: relative; overflow: hidden; display: flex; flex-direction: column;}
#watch-video-screen .wv-header { background: var(--gradient); color: var(--text-light); padding: 15px 20px; display: flex; align-items: center; box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1); position: fixed; width: 100%; top: 0; z-index: 100; flex-shrink: 0; }
body.dark-mode #watch-video-screen .wv-header { color: var(--text-light); }
#watch-video-screen .wv-back-button { font-size: 1.8rem; background: none; border: none; color: inherit; cursor: pointer; margin-right: 20px; }
#watch-video-screen .wv-header-title { font-size: 1.2rem; font-weight: 600; }
#watch-video-screen .wv-page-container { flex-grow: 1; position: relative; padding-top: 65px; background-color: var(--background); }
#watch-video-screen .wv-page-container.no-header { padding-top: 0; }
#watch-video-screen .wv-page { position: absolute; top: 0; left: 0; right: 0; bottom: 0; overflow-y: auto; padding: 20px; background-color: var(--background); visibility: hidden; transform: translateX(100%); }
#watch-video-screen .wv-page-container:not(.no-header) .wv-page { top: 65px; }
#watch-video-screen .wv-page.active { visibility: visible; transform: translateX(0); }
#watch-video-screen .wv-page.animate-in { animation: wv-slideIn 0.35s ease-out forwards; }
#watch-video-screen .wv-page.animate-out { animation: wv-slideOut 0.35s ease-out forwards; }
#watch-video-screen .wv-page.animate-in-back { animation: wv-slideInBack 0.35s ease-out forwards; }
#watch-video-screen .wv-page.animate-out-back { animation: wv-slideOutBack 0.35s ease-out forwards; }
@keyframes wv-slideIn { from { transform: translateX(100%); } to { transform: translateX(0); } }
@keyframes wv-slideOut { from { transform: translateX(0); } to { transform: translateX(-100%); } }
@keyframes wv-slideInBack { from { transform: translateX(-100%); } to { transform: translateX(0); } }
@keyframes wv-slideOutBack { from { transform: translateX(0); } to { transform: translateX(100%); } }
#watch-video-screen .wv-list-item { background-color: var(--surface); padding: 20px; margin-bottom: 15px; border-radius: 12px; display: flex; justify-content: space-between; align-items: center; cursor: pointer; border-left: 4px solid transparent; transition: all 0.3s ease; }
#watch-video-screen .wv-list-item:hover { transform: translateX(5px); border-left-color: var(--primary); background-color: color-mix(in srgb, var(--surface) 90%, black); }
#watch-video-screen .wv-list-item span { font-size: 1.1rem; font-weight: 500; color: var(--text-dark); }
#watch-video-screen .wv-list-item .arrow-icon svg { width: 24px; height: 24px; fill: var(--neutral-gray); }
#watch-video-screen .wv-video-item { display: flex; align-items: center; background-color: var(--surface); border-radius: 10px; padding: 12px; margin-bottom: 15px; cursor: pointer; transition: background-color 0.2s ease; }
#watch-video-screen .wv-video-item:hover { background-color: color-mix(in srgb, var(--surface) 90%, black); }
#watch-video-screen .wv-video-thumbnail { width: 120px; min-width: 120px; height: 70px; object-fit: cover; border-radius: 6px; margin-right: 15px; background-color: var(--border-color); }
#watch-video-screen .wv-video-info h3 { font-size: 1rem; font-weight: 500; margin-bottom: 5px; color: var(--text-dark); }
#watch-video-screen .wv-video-info p { font-size: 0.85rem; color: var(--neutral-gray); }
#watch-video-screen .wv-video-details { padding: 0 5px; color: var(--text-dark); }
#watch-video-screen .wv-video-details h2 { font-size: 1.4rem; font-weight: 600; margin-bottom: 10px; }
#watch-video-screen .wv-video-details p { font-size: 0.95rem; line-height: 1.6; color: var(--neutral-gray); }
#watch-video-screen .wv-loader { color: var(--primary); font-size: 1.2rem; text-align: center; margin-top: 40px; }
#watch-video-screen .wv-video-player-wrapper { position: relative; width: 100%; padding-top: 56.25%; background-color: #000; border-radius: 12px; overflow: hidden; margin-bottom: 20px; }
#watch-video-screen .wv-video-player-wrapper iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0; }
#watch-video-screen .wv-video-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: var(--primary); z-index: 5; pointer-events: none; transition: opacity 0.5s ease-in-out; opacity: 1; -webkit-mask: radial-gradient(circle at center, transparent 60px, black 61px); mask: radial-gradient(circle at center, transparent 60px, black 61px); }
#watch-video-screen .wv-video-overlay.hidden { opacity: 0; }
#watch-video-screen .wv-corner-patch { position: absolute; bottom: 0; left: 0; width: 110px; height: 40px; background-color: var(--primary); z-index: 6; pointer-events: all; border-top-right-radius: 10px; cursor: pointer; display: flex; align-items: center; justify-content: center; color: var(--text-light); font-size: 0.9rem; font-weight: 600; }
body.dark-mode #watch-video-screen .wv-corner-patch { color: var(--text-light); }
#watch-video-screen .wv-popup-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.7); backdrop-filter: blur(5px); z-index: 250; display: none; align-items: center; justify-content: center; padding: 20px; }
#watch-video-screen .wv-popup-overlay.visible { display: flex; }
#watch-video-screen .wv-popup-content { background-color: var(--surface); color: var(--text-dark); border-radius: 15px; padding: 25px; width: 100%; max-width: 400px; position: relative; text-align: center; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5); max-height: 80vh; overflow-y: auto; }
#watch-video-screen .wv-popup-close-btn { position: absolute; top: 10px; right: 15px; font-size: 1.8rem; color: var(--neutral-gray); cursor: pointer; background: none; border: none; }
#watch-video-screen .wv-popup-header { font-size: 2.5rem; margin-bottom: 10px; }
#watch-video-screen .wv-popup-header h2 { font-size: 1.5rem; margin-top: 5px; }
#watch-video-screen .wv-popup-body { display: grid; grid-template-columns: 1fr; gap: 20px; text-align: left; margin-top: 20px; }
#watch-video-screen .wv-lang-box { background-color: var(--background); padding: 15px; border-radius: 10px; }
#watch-video-screen .wv-lang-box h3 { font-size: 1.1rem; color: var(--primary); margin-bottom: 10px; }
#watch-video-screen .wv-lang-box p { font-size: 0.95rem; line-height: 1.6; color: var(--text-dark); }

/* OMR Practice Styles (Main App) */
#omr-practice-page { font-family: 'Poppins', sans-serif; background-color: var(--background); color: var(--text-dark); }
#omr-practice-page * { box-sizing: border-box; }
/* NOTE: Header styles here apply to header *within* the OMR page */
#omr-practice-page .app-header .app-title { background: var(--gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
#omr-main-content { height: calc(100% - 65px); overflow: hidden; position: relative; padding: 0; }
/* .screen within OMR page */
#omr-practice-page .screen { display: none; flex-direction: column; align-items: center; justify-content: flex-start; height: 100%; padding: 20px; width: 100%; position: absolute; top: 0; left: 0; overflow-y: auto; background-color: var(--background); }
#omr-practice-page .screen.active { display: flex; }
#omr-practice-page .container { background-color: var(--surface); padding: 30px; border-radius: 12px; border: 1px solid var(--border-color); width: 100%; max-width: 600px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); margin-top: 20px; margin-bottom: 20px; }
#omr-practice-page #omr-splash-screen { justify-content: center; }
#omr-practice-page #omr-splash-screen .logo { font-size: 50px; color: var(--primary); margin-bottom: 10px; }
#omr-practice-page #omr-splash-screen h1 { font-size: 3rem; font-weight: 700; color: var(--text-dark); }
#omr-practice-page #omr-splash-screen p { color: var(--text-muted-color); margin-top: 10px; }
#omr-practice-page #omr-splash-screen .tagline { font-size: 1.1rem; }
#omr-practice-page #omr-splash-screen .feature-name { font-size: 1.3rem; margin-top: 20px; font-weight: 600; color: var(--text-dark); }
/* Loading bar for OMR splash */
#omr-practice-page .loading-bar { width: 80%; max-width: 300px; height: 5px; background-color: var(--border-color); border-radius: 5px; margin-top: 30px; overflow: hidden; }
#omr-practice-page .loading-bar-inner { height: 100%; width: 0; background-color: var(--primary); border-radius: 5px; animation: omr-load 3s ease-in-out forwards; }
@keyframes omr-load { 0% { width: 0%; } 100% { width: 100%; } }
/* NOTE: #omr-practice-page h2 may conflict with AI .ai-generated-content h2 */
#omr-practice-page h2 { text-align: center; margin-bottom: 25px; color: var(--text-dark); }
#omr-practice-page .form-group { margin-bottom: 20px; }
#omr-practice-page label { display: block; margin-bottom: 8px; font-weight: 600; color: var(--text-muted-color); }
#omr-practice-page input[type="text"], #omr-practice-page input[type="number"] { width: 100%; padding: 12px; background-color: var(--background); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-dark); font-size: 1rem; }
/* NOTE: .btn specific to OMR page */
#omr-practice-page .btn { display: block; width: 100%; padding: 15px; background: var(--gradient); color: var(--text-light); border: none; border-radius: 8px; font-size: 1.1rem; font-weight: 600; cursor: pointer; text-align: center; transition: background-color 0.2s, transform 0.2s; text-decoration: none; }
body.dark-mode #omr-practice-page .btn { color: var(--text-light); }
#omr-practice-page .btn:hover { transform: translateY(-2px); box-shadow: 0 4px 15px color-mix(in srgb, var(--primary) 40%, transparent); }
#omr-practice-page .btn-secondary { background: var(--surface); color: var(--text-dark); margin-top: 15px; border: 1px solid var(--border-color); }
#omr-practice-page .btn-secondary:hover { background-color: color-mix(in srgb, var(--surface) 90%, black); transform: translateY(0); box-shadow: none; }
#omr-practice-page .radio-group label { display: inline-block; margin-right: 15px; color: var(--text-dark); }
#omr-practice-page .radio-group input[type="radio"] { accent-color: var(--primary); }
#omr-practice-page #omr-set-time-inputs { display: flex; gap: 10px; align-items: center; }
#omr-practice-page #omr-set-time-inputs input { text-align: center; }
#omr-practice-page #omr-set-time-inputs span { color: var(--text-muted-color); font-weight: 600; }
#omr-practice-page .omr-sheet { width: 100%; padding-right: 10px; }
#omr-practice-page .question-row { display: flex; align-items: center; margin-bottom: 15px; padding: 10px; border-radius: 8px; background-color: var(--background); }
#omr-practice-page .q-number { font-weight: 600; margin-right: 20px; min-width: 30px; }
#omr-practice-page .options-container { display: flex; flex-wrap: wrap; gap: 15px; }
#omr-practice-page .options-container input[type="radio"] { display: none; }
#omr-practice-page .options-container label { display: flex; align-items: center; justify-content: center; width: 40px; height: 40px; border: 2px solid var(--border-color); border-radius: 50%; cursor: pointer; font-weight: 600; transition: all 0.2s; color: var(--text-muted-color); }
#omr-practice-page .options-container input[type="radio"]:checked + label { background-color: var(--primary); border-color: var(--primary); color: var(--text-light); }
body.dark-mode #omr-practice-page .options-container input[type="radio"]:checked + label { color: var(--text-light); }
#omr-practice-page .practice-header { width: 100%; max-width: 600px; display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
#omr-practice-page #omr-timer { font-size: 1.2rem; font-weight: 600; background-color: var(--surface); padding: 8px 15px; border-radius: 8px; border: 1px solid var(--border-color); }
#omr-practice-page #omr-result-tabs { display: flex; margin-bottom: 20px; border-bottom: 2px solid var(--border-color); }
#omr-practice-page .tab-btn { padding: 10px 20px; cursor: pointer; background: none; border: none; color: var(--text-muted-color); font-weight: 600; font-size: 1rem; }
#omr-practice-page .tab-btn.active { color: var(--primary); border-bottom: 2px solid var(--primary); }
#omr-practice-page .tab-content { display: none; }
#omr-practice-page .tab-content.active { display: block; }
#omr-practice-page #omr-score-board { width: 100%; border-collapse: collapse; margin-bottom: 25px; }
#omr-practice-page #omr-score-board td { padding: 12px; border: 1px solid var(--border-color); }
#omr-practice-page #omr-score-board td:first-child { font-weight: 600; color: var(--text-muted-color); }
#omr-practice-page #omr-result-chart-container { width: 100%; max-width: 250px; margin: 0 auto 25px auto; }
#omr-practice-page #omr-detailed-analysis-table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }
#omr-practice-page #omr-detailed-analysis-table th, #omr-practice-page #omr-detailed-analysis-table td { padding: 10px; text-align: center; border: 1px solid var(--border-color); }
#omr-practice-page .status-correct { background-color: color-mix(in srgb, var(--success) 15%, transparent); }
#omr-practice-page .status-wrong { background-color: color-mix(in srgb, var(--danger) 15%, transparent); }
#omr-practice-page .status-skipped { background-color: color-mix(in srgb, var(--neutral-gray) 15%, transparent); }
#omr-practice-page .status-icon { display: inline-block; width: 12px; height: 12px; border-radius: 50%; }
#omr-practice-page .icon-correct { background-color: var(--success); }
#omr-practice-page .icon-wrong { background-color: var(--danger); }
#omr-practice-page .icon-skipped { background-color: var(--neutral-gray); }
#omr-practice-page .error-tag-select { background-color: var(--background); color: var(--text-dark); border: 1px solid var(--border-color); border-radius: 4px; padding: 4px; }
#omr-practice-page #omr-history-list { list-style: none; width: 100%; }
#omr-practice-page .history-item { display: flex; justify-content: space-between; align-items: center; background-color: var(--surface); padding: 15px; border-radius: 8px; margin-bottom: 10px; border: 1px solid var(--border-color); transition: background-color 0.2s; }
#omr-practice-page .history-item-info { flex-grow: 1; cursor: pointer; padding: 5px; }
#omr-practice-page .history-item-info:hover { background-color: color-mix(in srgb, var(--surface) 95%, black); }
#omr-practice-page .history-item-name { font-weight: 600; font-size: 1.1rem; }
#omr-practice-page .history-item-date { font-size: 0.9rem; color: var(--text-muted-color); }
#omr-practice-page .delete-btn { background: none; border: none; color: var(--danger); font-size: 1.5rem; cursor: pointer; padding: 0 10px; }

/* Brain Games Styles (Main App) */
#brain-games-page { --dark-bg: #100f1c; --card-bg: rgba(10, 10, 20, 0.5); --text-color: #e0e0e0; --text-muted: #888eb3; --glow-purple: #9f55ff; font-family: 'Poppins', sans-serif; background-color: var(--dark-bg) !important; background-image: radial-gradient(circle at 5% 5%, rgba(159, 85, 255, 0.2), transparent 40%), radial-gradient(circle at 95% 95%, rgba(0, 194, 255, 0.2), transparent 40%); color: var(--text-color) !important; display: flex; flex-direction: column; }
#brain-games-page .main-content { padding: 0; }
#brain-games-page .app-container { width: 100%; max-width: 450px; height: 100%; margin: 0 auto; background-color: transparent; overflow: hidden; position: relative; }
/* .screen within Brain Games page */
#brain-games-page .screen { width: 100%; height: 100%; position: absolute; top: 0; left: 0; opacity: 0; visibility: hidden; transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out; transform: scale(1.05); display: flex; flex-direction: column; align-items: center; padding: 20px; }
#brain-games-page .screen.active { opacity: 1; visibility: visible; transform: scale(1); }
#brain-games-page #game-splash-screen { background-color: #000; justify-content: center; }
#brain-games-page .splash-logo-icon svg { width: 80px; height: 80px; }
#brain-games-page .splash-brand-name { font-family: 'Orbitron', sans-serif; font-size: 3rem; letter-spacing: 5px; margin: 20px 0 10px; color: #fff; }
#brain-games-page .splash-tagline { font-size: 1rem; color: var(--text-muted); }
/* Loading bar within Brain Games splash */
#brain-games-page .loading-bar { width: 150px; height: 4px; background-color: #333; margin-top: 40px; border-radius: 2px; overflow: hidden; }
#brain-games-page .loading-bar-inner { width: 0%; height: 100%; background-color: #00c2ff; border-radius: 2px; animation: brain-game-load 3s ease-out forwards; }
@keyframes brain-game-load { from { width: 0%; } to { width: 100%; } }
#brain-games-page #menu-screen { justify-content: center; gap: 15px; }
#brain-games-page .menu-patti { width: 95%; height: 80px; border-radius: 15px; display: flex; align-items: center; padding: 0 20px; cursor: pointer; border: 1px solid rgba(255, 255, 255, 0.1); transition: all 0.3s ease; position: relative; overflow: hidden; }
#brain-games-page .menu-patti:hover { transform: scale(1.05); box-shadow: 0 0 20px 0 var(--glow-color); }
#brain-games-page .patti-icon { width: 50px; height: 50px; margin-right: 20px; }
#brain-games-page .patti-text h3 { font-family: 'Bebas Neue', cursive; font-size: 2.2rem; line-height: 1; color: #fff; }
#brain-games-page .patti-text p { font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; }
/* Specific Patti glow/background colors */
#brain-games-page #patti-clash { --glow-color: #ff3d7a; background: linear-gradient(90deg, #ff3d7a, #ff965b); }
#brain-games-page #patti-pulse { --glow-color: #00c2ff; background: linear-gradient(90deg, #5f00ff, #00c2ff); }
#brain-games-page #patti-shift { --glow-color: #008cff; background: linear-gradient(90deg, #004aad, #008cff); }
#brain-games-page #patti-math { --glow-color: #ffd000; background: linear-gradient(90deg, #ff7b00, #ffd000); }
#brain-games-page #patti-spatial { --glow-color: #9f55ff; background: linear-gradient(90deg, #a23bff, #3b6dff); }
#brain-games-page .game-screen { justify-content: space-between; }
#brain-games-page .game-screen-header { width: 100%; display: flex; align-items: center; justify-content: center; position: relative; padding: 10px 0; margin-top: 10px; }
/* NOTE: .back-btn used in multiple places, check if this specific style is OK */
#brain-games-page .back-btn { background: none; border: none; cursor: pointer; position: absolute; left: 0; top: 50%; transform: translateY(-50%); padding: 10px; }
#brain-games-page .back-btn svg { width: 28px; height: 28px; fill: var(--text-muted); }
/* NOTE: .game-screen-header h2 may conflict with AI .ai-generated-content h2 */
#brain-games-page .game-screen-header h2 { font-family: 'Orbitron', sans-serif; font-size: 2rem; text-shadow: 0 0 15px var(--glow-color); color: var(--glow-color); }
#brain-games-page .game-screen p.description { font-size: 0.9rem; color: var(--text-muted); max-width: 300px; margin: 5px auto 20px; }
#brain-games-page .game-area { width: 100%; flex-grow: 1; margin-bottom: 20px; background: var(--card-bg); border-radius: 20px; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 20px; border: 1px solid rgba(159, 85, 255, 0.2); position: relative; }
#brain-games-page .game-footer { width: 100%; text-align: center; margin-bottom: 30px; }
#brain-games-page .game-score { font-size: 1.8rem; font-weight: 600; text-shadow: 0 0 10px var(--glow-color); color: var(--glow-color); }
/* Specific game styles */
#brain-games-page #clash-game-screen { --glow-color: #ffb800; }
#brain-games-page #clash-word { font-family: 'Bebas Neue', cursive; font-size: 5rem; letter-spacing: 5px; }
#brain-games-page #clash-options { display: flex; gap: 20px; margin-top: 30px; }
#brain-games-page .clash-btn { width: 70px; height: 70px; border-radius: 50%; cursor: pointer; border: 4px solid rgba(255,255,255,0.7); transition: transform 0.2s ease; }
#brain-games-page .clash-btn:hover { transform: scale(1.1); }
#brain-games-page #pulse-game-screen { --glow-color: #00c2ff; }
#brain-games-page #pulse-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }
#brain-games-page .pulse-square { width: 80px; height: 80px; background-color: rgba(0,0,0,0.2); border: 2px solid var(--glow-color); border-radius: 15px; cursor: pointer; transition: all 0.2s ease; }
#brain-games-page .pulse-square.active { background-color: var(--glow-color); box-shadow: 0 0 20px var(--glow-color); }
#brain-games-page .pulse-square.player-active { background-color: #ff00c1; border-color: #ff00c1; box-shadow: 0 0 20px #ff00c1; }
#brain-games-page #shift-game-screen { --glow-color: #008cff; }
#brain-games-page #shift-container { font-size: 5rem; display: flex; gap: 30px; }
#brain-games-page #shift-options { display: flex; gap: 20px; margin-top: 30px; }
#brain-games-page .shift-btn { font-size: 1.2rem; padding: 10px 30px; border-radius: 10px; background: var(--card-bg); color: var(--text-color); border: 1px solid var(--glow-color); cursor: pointer; }
#brain-games-page #math-game-screen { --glow-color: #ffd000; }
#brain-games-page #math-question { font-family: 'Orbitron', sans-serif; font-size: 3rem; margin-bottom: 20px; }
#brain-games-page #math-options { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; width: 100%; max-width: 320px; }
#brain-games-page .math-btn { font-size: 1.5rem; padding: 15px; border-radius: 10px; border: 1px solid var(--glow-color); background: transparent; color: var(--text-color); cursor: pointer; }
#brain-games-page #spatial-game-screen { --glow-color: var(--glow-purple); }
#brain-games-page #spatial-base-shape { font-size: 6rem; margin-bottom: 30px; color: #fff; }
#brain-games-page #spatial-options { display: flex; flex-wrap: wrap; justify-content: center; gap: 25px; font-size: 4rem; }
#brain-games-page .spatial-option { cursor: pointer; transition: transform 0.2s ease; }
#brain-games-page .spatial-option:hover { transform: scale(1.2); color: var(--glow-color); }

/* Competitive Exam & Teacher Pages Styles (Main App) */
#competitive-exam-page .main-content,
#teacher-list-page .main-content,
#teacher-content-page .main-content { padding: 15px; }
.exam-list-container, .teacher-list-container { display: flex; flex-direction: column; gap: 15px; }
/* NOTE: .exam-list-item, .teacher-list-item may conflict with AI .card */
.exam-list-item, .teacher-list-item { display: flex; align-items: center; gap: 15px; background-color: var(--surface); padding: 15px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); cursor: pointer; transition: all 0.2s ease; border: 1px solid var(--border-color); }
.exam-list-item:hover, .teacher-list-item:hover { transform: translateY(-3px); border-color: var(--primary); box-shadow: 0 6px 20px rgba(0,0,0,0.1); }
.exam-item-img, .teacher-avatar { width: 50px; height: 50px; border-radius: 50%; background-color: var(--border-color); flex-shrink: 0; object-fit: cover; }
.exam-item-name, .teacher-name { font-size: 1.1rem; font-weight: 600; color: var(--text-dark); }
.teacher-specialty { font-size: 0.9rem; color: var(--text-muted-color); }
.teacher-list-item i { margin-left: auto; color: var(--text-muted-color); }
/* NOTE: .content-section-title may conflict with AI h2/h3 styles */
.content-section-title { font-size: 1.3rem; font-weight: 600; margin: 25px 0 15px 0; padding-bottom: 8px; border-bottom: 2px solid var(--primary); color: var(--primary); }
/* NOTE: .section-card may conflict with AI .card */
.section-card { background-color: var(--surface); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px; display: flex; align-items: center; gap: 20px; cursor: pointer; transition: all 0.2s ease; }
.section-card:hover { transform: translateY(-3px); border-color: var(--primary); }
.section-card-icon { font-size: 2rem; color: var(--primary); }
/* NOTE: .section-card-text h3 may conflict with AI .ai-generated-content h3 */
.section-card-text h3 { font-size: 1.2rem; margin: 0; }
.section-card-text p { font-size: 0.9rem; color: var(--text-muted-color); margin: 4px 0 0; }
.content-list { list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: 10px; }
.content-list-item { display: flex; align-items: center; gap: 15px; padding: 15px; background-color: var(--surface); border-radius: 10px; border: 1px solid var(--border-color); cursor: pointer; transition: all 0.2s ease; }
.content-list-item:hover { background-color: color-mix(in srgb, var(--primary) 5%, transparent); border-color: var(--primary); }
.list-item-icon { font-size: 1.2rem; color: var(--primary); }

/* Exam Quiz Page Styles (Main App) */
#exam-quiz-page {
    display: flex;
    flex-direction: column;
}
/* Header title within Exam Quiz page */
#exam-quiz-page .app-header .app-title {
    flex-grow: 1; /* Allow title to take space */
    text-align: center;
    background: none; /* Override gradient for test titles */
    color: var(--primary);
    -webkit-text-fill-color: var(--primary);
}
.header-timer {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--text-dark);
    font-family: 'Orbitron', sans-serif;
    width: 70px; /* Give it some space */
    text-align: right;
}
body.dark-mode .header-timer {
    color: var(--text-dark);
}
/* Question Navigation Bar (Exam Quiz Page) */
.question-nav-container {
    padding: 10px 15px;
    background-color: var(--surface);
    overflow-x: auto;
    white-space: nowrap;
    border-bottom: 1px solid var(--border-color);
    flex-shrink: 0;
    -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
}
.question-nav-container::-webkit-scrollbar {
    height: 4px;
}
.question-nav-container::-webkit-scrollbar-thumb {
    background: var(--border-color);
    border-radius: 4px;
}
.q-nav-pill {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 38px;
    height: 38px;
    background-color: var(--background);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    margin-right: 10px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.2s ease;
    color: var(--text-dark);
}
.q-nav-pill:last-child {
    margin-right: 0;
}
.q-nav-pill:hover {
    border-color: var(--primary);
}
.q-nav-pill.answered {
    background-color: var(--success);
    border-color: var(--success);
    color: var(--text-light);
}
body.dark-mode .q-nav-pill.answered {
    color: var(--text-light); /* Ensure text is light on dark mode */
}
.q-nav-pill.current {
    background-color: var(--primary);
    border-color: var(--primary);
    color: var(--text-light);
    transform: scale(1.1);
    box-shadow: 0 0 10px color-mix(in srgb, var(--primary) 40%, transparent);
}
body.dark-mode .q-nav-pill.current {
    color: var(--text-light); /* Ensure text is light on dark mode */
}

/* Exam Result Page Styles (Main App) */
#exam-result-page .main-content { text-align: center; }
.result-summary-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 25px; }
/* NOTE: .summary-box may conflict with AI .card */
.summary-box { background-color: var(--surface); padding: 15px; border-radius: 12px; border: 1px solid var(--border-color); }
.summary-box .value { font-size: 2rem; font-weight: 700; }
.summary-box .label { font-size: 0.9rem; color: var(--text-muted-color); }
.summary-box.correct .value { color: var(--success); }
.summary-box.wrong .value { color: var(--danger); }
.summary-box.skipped .value { color: var(--neutral-gray); }
.result-score-table { width: 100%; border-collapse: collapse; margin: 25px 0; text-align: left; }
.result-score-table td { padding: 12px; border: 1px solid var(--border-color); background-color: var(--surface); }
.result-score-table td:first-child { font-weight: 600; }
.result-score-table .final-score { font-size: 1.5rem; font-weight: 700; color: var(--primary); }
#exam-result-chart-container { width: 100%; max-width: 250px; margin: 0 auto 25px auto; }
.result-review-tabs { display: flex; justify-content: center; gap: 10px; margin-bottom: 20px; }
.result-review-tabs button { background-color: var(--surface); border: 1px solid var(--border-color); color: var(--text-dark); }
/* NOTE: .result-review-tabs button.active may conflict with AI .pagination-btn.active */
.result-review-tabs button.active { background: var(--gradient); color: var(--text-light); border: none; }
.result-review-content { display: none; }
.result-review-content.active { display: block; }

/* Feedback Page Styles (Main App) */
.feedback-page .info-form { margin: 0 auto 30px auto; }
/* NOTE: .feedback-page .info-form h2 may conflict with AI .ai-generated-content h2 */
#feedback-page .info-form h2 { margin-bottom: 20px; }
/* NOTE: .content-list-item may conflict with AI .card */
#feedback-page .content-list-item { flex-direction: column; align-items: flex-start; gap: 8px; cursor: default; }
#feedback-page .content-list-item:hover { background-color: var(--surface); border-color: var(--border-color); transform: none; }

/* Create Test Page Styles (Main App) */
.create-test-page .question-field-group { border: 1px solid var(--border-color); border-radius: 10px; padding: 20px; margin-bottom: 20px; background-color: color-mix(in srgb, var(--primary) 5%, transparent); }
/* NOTE: .create-test-page .question-field-group h5 may conflict with AI h4 (though less likely) */
#create-test-page .question-field-group h5 { margin-top: 0; margin-bottom: 15px; font-weight: 600; color: var(--primary); }

/* Comments Section Styles (Main App) */
#comments-screen .main-content {
    display: flex;
    flex-direction: column;
    height: calc(100% - 65px); /* Account for header */
    padding-bottom: 10px; /* Add some padding at the bottom */
}
/* Header title within Comments page */
#comments-screen .app-header .app-title {
    background: none; /* Remove gradient for context-specific titles */
    -webkit-text-fill-color: revert; /* Use default text color */
    color: var(--text-dark);
}
#comments-screen .comment-header strong { color: var(--primary); }
#comments-screen .comment-text { white-space: pre-wrap; word-break: break-word; }
#comments-screen .comment-actions { margin-top: 8px; display: flex; gap: 10px; }
.btn-link { background: none; border: none; color: var(--primary); cursor: pointer; font-weight: 600; padding: 3px 0; }
.btn-link:hover { text-decoration: underline; }
.btn-link-danger { background: none; border: none; color: var(--danger); cursor: pointer; font-weight: 600; padding: 3px 0; }
.btn-link-danger:hover { text-decoration: underline; }
.reply-form-container { transition: max-height 0.3s ease-out, opacity 0.3s ease-out; overflow: hidden; }
.reply-form-container textarea { margin-bottom: 8px; }
.btn-small { padding: 6px 12px; font-size: 0.85rem; }
.replies-container { margin-left: 30px; margin-top: 10px; }

/* --- USER PROFILE MENU STYLES (Main App) --- */
#user-profile-menu-overlay {
    z-index: 1005; /* Higher than side menu and settings */
}
.user-profile-menu-content {
    background: var(--surface);
    border-radius: 15px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.2);
    padding: 10px 0;
    width: 200px;
    margin-top: 40px; /* Adjust based on header height and profile icon position */
    position: absolute; /* Position relative to body or a parent */
    right: 20px; /* Position it near the profile icon */
    top: 60px; /* Adjust as needed */
    z-index: 1006; /* Above other elements */
    opacity: 0;
    transform: scale(0.9);
    transition: opacity 0.3s ease, transform 0.3s ease;
    pointer-events: none;
}
#user-profile-menu-overlay.active .user-profile-menu-content {
    opacity: 1;
    transform: scale(1);
    pointer-events: auto;
}
#user-profile-menu-overlay .settings-list li {
    padding: 12px 20px;
    border-bottom: 1px solid var(--border-color);
    font-size: 1rem;
    color: var(--text-dark);
}
#user-profile-menu-overlay .settings-list li i {
    margin-right: 15px;
    color: var(--primary);
}
#user-profile-menu-overlay .settings-list li:last-child {
    border-bottom: none;
}
